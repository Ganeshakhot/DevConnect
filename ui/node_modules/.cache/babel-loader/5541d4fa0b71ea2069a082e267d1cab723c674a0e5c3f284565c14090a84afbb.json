{"ast":null,"code":"import{GET_POSTS,POST_ERROR,UPDATE_LIKES,DELETE_POST,ADD_POST,GET_POST,ADD_COMMENT,REMOVE_COMMENT}from'../actions/types';const initialState={posts:[],post:null,loading:true,error:{}};function postReducer(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;let action=arguments.length>1?arguments[1]:undefined;const{type,payload}=action;switch(type){case GET_POSTS:return{...state,posts:payload,loading:false};case GET_POST:return{...state,post:payload,loading:false};case ADD_POST:return{...state,posts:[payload,...state.posts],loading:false};case DELETE_POST:return{...state,posts:state.posts.filter(post=>post._id!==payload),loading:false};case POST_ERROR:return{...state,error:payload,loading:false};case UPDATE_LIKES:return{...state,posts:state.posts.map(post=>post._id===payload.id?{...post,likes:payload.likes}:post),loading:false};case ADD_COMMENT:return{...state,post:{...state.post,comments:payload},loading:false};case REMOVE_COMMENT:return{...state,post:{...state.post,comments:state.post.comments.filter(comment=>comment._id!==payload)},loading:false};default:return state;}}export default postReducer;","map":{"version":3,"names":["GET_POSTS","POST_ERROR","UPDATE_LIKES","DELETE_POST","ADD_POST","GET_POST","ADD_COMMENT","REMOVE_COMMENT","initialState","posts","post","loading","error","postReducer","state","arguments","length","undefined","action","type","payload","filter","_id","map","id","likes","comments","comment"],"sources":["D:/DevConnect/ui/src/reducers/post.js"],"sourcesContent":["import {\r\n  GET_POSTS,\r\n  POST_ERROR,\r\n  UPDATE_LIKES,\r\n  DELETE_POST,\r\n  ADD_POST,\r\n  GET_POST,\r\n  ADD_COMMENT,\r\n  REMOVE_COMMENT\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  posts: [],\r\n  post: null,\r\n  loading: true,\r\n  error: {}\r\n};\r\n\r\nfunction postReducer(state = initialState, action) {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case GET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: payload,\r\n        loading: false\r\n      };\r\n    case GET_POST:\r\n      return {\r\n        ...state,\r\n        post: payload,\r\n        loading: false\r\n      };\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        posts: [payload, ...state.posts],\r\n        loading: false\r\n      };\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter((post) => post._id !== payload),\r\n        loading: false\r\n      };\r\n    case POST_ERROR:\r\n      return {\r\n        ...state,\r\n        error: payload,\r\n        loading: false\r\n      };\r\n    case UPDATE_LIKES:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map((post) =>\r\n          post._id === payload.id ? { ...post, likes: payload.likes } : post\r\n        ),\r\n        loading: false\r\n      };\r\n    case ADD_COMMENT:\r\n      return {\r\n        ...state,\r\n        post: { ...state.post, comments: payload },\r\n        loading: false\r\n      };\r\n    case REMOVE_COMMENT:\r\n      return {\r\n        ...state,\r\n        post: {\r\n          ...state.post,\r\n          comments: state.post.comments.filter(\r\n            (comment) => comment._id !== payload\r\n          )\r\n        },\r\n        loading: false\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default postReducer;\r\n"],"mappings":"AAAA,OACEA,SAAS,CACTC,UAAU,CACVC,YAAY,CACZC,WAAW,CACXC,QAAQ,CACRC,QAAQ,CACRC,WAAW,CACXC,cAAc,KACT,kBAAkB,CAEzB,KAAM,CAAAC,YAAY,CAAG,CACnBC,KAAK,CAAE,EAAE,CACTC,IAAI,CAAE,IAAI,CACVC,OAAO,CAAE,IAAI,CACbC,KAAK,CAAE,CAAC,CACV,CAAC,CAED,QAAS,CAAAC,WAAWA,CAAA,CAA+B,IAA9B,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGP,YAAY,IAAE,CAAAU,MAAM,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CAC/C,KAAM,CAAEE,IAAI,CAAEC,OAAQ,CAAC,CAAGF,MAAM,CAEhC,OAAQC,IAAI,EACV,IAAK,CAAAnB,SAAS,CACZ,MAAO,CACL,GAAGc,KAAK,CACRL,KAAK,CAAEW,OAAO,CACdT,OAAO,CAAE,KACX,CAAC,CACH,IAAK,CAAAN,QAAQ,CACX,MAAO,CACL,GAAGS,KAAK,CACRJ,IAAI,CAAEU,OAAO,CACbT,OAAO,CAAE,KACX,CAAC,CACH,IAAK,CAAAP,QAAQ,CACX,MAAO,CACL,GAAGU,KAAK,CACRL,KAAK,CAAE,CAACW,OAAO,CAAE,GAAGN,KAAK,CAACL,KAAK,CAAC,CAChCE,OAAO,CAAE,KACX,CAAC,CACH,IAAK,CAAAR,WAAW,CACd,MAAO,CACL,GAAGW,KAAK,CACRL,KAAK,CAAEK,KAAK,CAACL,KAAK,CAACY,MAAM,CAAEX,IAAI,EAAKA,IAAI,CAACY,GAAG,GAAKF,OAAO,CAAC,CACzDT,OAAO,CAAE,KACX,CAAC,CACH,IAAK,CAAAV,UAAU,CACb,MAAO,CACL,GAAGa,KAAK,CACRF,KAAK,CAAEQ,OAAO,CACdT,OAAO,CAAE,KACX,CAAC,CACH,IAAK,CAAAT,YAAY,CACf,MAAO,CACL,GAAGY,KAAK,CACRL,KAAK,CAAEK,KAAK,CAACL,KAAK,CAACc,GAAG,CAAEb,IAAI,EAC1BA,IAAI,CAACY,GAAG,GAAKF,OAAO,CAACI,EAAE,CAAG,CAAE,GAAGd,IAAI,CAAEe,KAAK,CAAEL,OAAO,CAACK,KAAM,CAAC,CAAGf,IAChE,CAAC,CACDC,OAAO,CAAE,KACX,CAAC,CACH,IAAK,CAAAL,WAAW,CACd,MAAO,CACL,GAAGQ,KAAK,CACRJ,IAAI,CAAE,CAAE,GAAGI,KAAK,CAACJ,IAAI,CAAEgB,QAAQ,CAAEN,OAAQ,CAAC,CAC1CT,OAAO,CAAE,KACX,CAAC,CACH,IAAK,CAAAJ,cAAc,CACjB,MAAO,CACL,GAAGO,KAAK,CACRJ,IAAI,CAAE,CACJ,GAAGI,KAAK,CAACJ,IAAI,CACbgB,QAAQ,CAAEZ,KAAK,CAACJ,IAAI,CAACgB,QAAQ,CAACL,MAAM,CACjCM,OAAO,EAAKA,OAAO,CAACL,GAAG,GAAKF,OAC/B,CACF,CAAC,CACDT,OAAO,CAAE,KACX,CAAC,CACH,QACE,MAAO,CAAAG,KAAK,CAChB,CACF,CAEA,cAAe,CAAAD,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}