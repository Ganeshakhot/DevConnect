{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import formatDate from'../../utils/formatDate';import{connect}from'react-redux';import{addLike,removeLike,deletePost}from'../../actions/post';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PostItem=_ref=>{let{addLike,removeLike,deletePost,auth,post:{_id,text,name,avatar,user,likes,comments,date}}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"post bg-white p-1 my-1\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/profile/\".concat(user),children:[/*#__PURE__*/_jsx(\"img\",{className:\"round-img\",src:avatar,alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{children:name})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"my-1\",children:text}),/*#__PURE__*/_jsxs(\"p\",{className:\"post-date\",children:[\"Posted on \",formatDate(date)]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>addLike(_id),type:\"button\",className:\"btn btn-light\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-up\"}),' ',/*#__PURE__*/_jsx(\"span\",{children:likes.length>0&&/*#__PURE__*/_jsx(\"span\",{children:likes.length})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeLike(_id),type:\"button\",className:\"btn btn-light\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-down\"})}),/*#__PURE__*/_jsxs(Link,{to:\"/posts/\".concat(_id),className:\"btn btn-primary\",children:[\"Discussion\",' ',comments.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"comment-count\",children:comments.length})]}),!auth.loading&&user===auth.user._id&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>deletePost(_id),type:\"button\",className:\"btn btn-danger\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]})]});};const mapStateToProps=state=>({auth:state.auth});export default connect(mapStateToProps,{addLike,removeLike,deletePost})(PostItem);","map":{"version":3,"names":["React","Link","formatDate","connect","addLike","removeLike","deletePost","jsx","_jsx","jsxs","_jsxs","PostItem","_ref","auth","post","_id","text","name","avatar","user","likes","comments","date","className","children","to","concat","src","alt","onClick","type","length","loading","mapStateToProps","state"],"sources":["D:/DevConnect/ui/src/components/posts/PostItem.js"],"sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport formatDate from '../../utils/formatDate';\r\nimport { connect } from 'react-redux';\r\nimport { addLike, removeLike, deletePost } from '../../actions/post';\r\n\r\nconst PostItem = ({\r\n  addLike,\r\n  removeLike,\r\n  deletePost,\r\n  auth,\r\n  post: { _id, text, name, avatar, user, likes, comments, date }\r\n}) => (\r\n  <div className=\"post bg-white p-1 my-1\">\r\n    <div>\r\n      <Link to={`/profile/${user}`}>\r\n        <img className=\"round-img\" src={avatar} alt=\"\" />\r\n        <h4>{name}</h4>\r\n      </Link>\r\n    </div>\r\n    <div>\r\n      <p className=\"my-1\">{text}</p>\r\n      <p className=\"post-date\">Posted on {formatDate(date)}</p>\r\n\r\n      <button\r\n        onClick={() => addLike(_id)}\r\n        type=\"button\"\r\n        className=\"btn btn-light\"\r\n      >\r\n        <i className=\"fas fa-thumbs-up\" />{' '}\r\n        <span>{likes.length > 0 && <span>{likes.length}</span>}</span>\r\n      </button>\r\n      <button\r\n        onClick={() => removeLike(_id)}\r\n        type=\"button\"\r\n        className=\"btn btn-light\"\r\n      >\r\n        <i className=\"fas fa-thumbs-down\" />\r\n      </button>\r\n      <Link to={`/posts/${_id}`} className=\"btn btn-primary\">\r\n        Discussion{' '}\r\n        {comments.length > 0 && (\r\n          <span className=\"comment-count\">{comments.length}</span>\r\n        )}\r\n      </Link>\r\n      {!auth.loading && user === auth.user._id && (\r\n        <button\r\n          onClick={() => deletePost(_id)}\r\n          type=\"button\"\r\n          className=\"btn btn-danger\"\r\n        >\r\n          <i className=\"fas fa-times\" />\r\n        </button>\r\n      )}\r\n    </div>\r\n  </div>\r\n);\r\n\r\nPostItem.propTypes = {\r\n  post: PropTypes.object.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  addLike: PropTypes.func.isRequired,\r\n  removeLike: PropTypes.func.isRequired,\r\n  deletePost: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, { addLike, removeLike, deletePost })(\r\n  PostItem\r\n);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}